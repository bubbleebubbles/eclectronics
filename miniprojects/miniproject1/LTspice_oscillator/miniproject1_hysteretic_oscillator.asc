Version 4
SHEET 1 1452 952
WIRE -736 -544 -736 -576
WIRE -736 -432 -736 -464
WIRE -640 -432 -736 -432
WIRE -736 -416 -736 -432
WIRE -736 -288 -736 -336
WIRE 416 -272 304 -272
WIRE 656 -272 496 -272
WIRE 464 -160 464 -208
WIRE 576 -160 464 -160
WIRE 576 -128 576 -160
WIRE 464 -96 464 -160
WIRE 192 -48 0 -48
WIRE 304 -48 304 -272
WIRE 304 -48 272 -48
WIRE 352 -48 304 -48
WIRE 624 -16 576 -16
WIRE 656 -16 656 -272
WIRE 656 -16 624 -16
WIRE 928 -16 656 -16
WIRE 352 16 320 16
WIRE 928 16 928 -16
WIRE -224 96 -224 -16
WIRE 0 96 0 -48
WIRE 0 96 -224 96
WIRE 928 112 928 96
WIRE 320 208 320 16
WIRE 432 208 320 208
WIRE 624 208 624 -16
WIRE 624 208 512 208
WIRE 928 240 928 176
WIRE 512 272 512 208
WIRE 1008 272 512 272
WIRE 432 336 432 208
WIRE 432 336 -80 336
WIRE -80 416 -80 336
WIRE 16 416 -80 416
WIRE 288 416 96 416
WIRE 560 416 368 416
WIRE 800 416 640 416
WIRE 1008 416 1008 272
WIRE 1008 416 880 416
FLAG -288 -432 0
FLAG 464 64 0
FLAG -640 -432 Vref
FLAG 320 272 0
FLAG 576 -64 0
FLAG 928 240 0
FLAG -736 -288 0
FLAG -224 -80 Vref
FLAG -112 32 0
SYMBOL cktsym\\vdd 464 -208 R0
SYMATTR InstName U2
SYMBOL cktsym\\vdd -288 -560 R0
SYMATTR InstName U3
SYMBOL cktsym\\vsource -288 -496 R0
SYMATTR Value 3.3V
SYMATTR InstName Vdd
SYMBOL res 288 -64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {wc(1580,  tola,1)}
SYMATTR SpiceLine tol=1
SYMBOL res 400 -256 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R2
SYMATTR Value {wc(301,  tola,2)}
SYMATTR SpiceLine tol=1
SYMBOL cap 304 208 R0
SYMATTR InstName C1
SYMATTR Value {wc(10000pF,  tola,0)}
SYMBOL cap 560 -128 R0
SYMATTR InstName C2
SYMATTR Value .1µF
SYMBOL res 112 400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value {wc(10000000, tola, 4)}
SYMATTR SpiceLine tol=1
SYMBOL res 384 400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value {wc(10000000,  tola, 5)}
SYMATTR SpiceLine tol=1
SYMBOL res 656 400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value {wc(402k,   tola,6)}
SYMBOL res 896 400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 39 64 VTop 2
SYMATTR InstName R8
SYMATTR Value {wc(69.8k, tola,7)}
SYMBOL res 944 112 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R6
SYMATTR Value {wc(31.6, tola, 9)}
SYMBOL mcp602x 448 -16 R0
SYMATTR InstName U5
SYMBOL LED 912 112 R0
SYMATTR InstName D1
SYMATTR Value NSCW100
SYMBOL cktsym\\vdd -736 -576 R0
SYMATTR InstName U1
SYMBOL res -752 -560 R0
SYMATTR InstName R3
SYMATTR Value {wc(1k, tola, 10)}
SYMBOL res -752 -432 R0
SYMATTR InstName R9
SYMATTR Value {wc(1k, tola, 11)}
SYMBOL mcp602x -128 -48 R0
SYMATTR InstName U4
SYMBOL cktsym\\vdd -112 -128 R0
SYMATTR InstName U6
TEXT -216 840 Left 2 !.include engr2420.sub
TEXT -216 864 Left 2 !.tran 10s uic
TEXT -216 720 Left 2 !.func wc(nom,tol,index) if(run==numruns,nom,if(binary(run,index),nom*(1+tol),nom*(1-tol)))
TEXT -216 744 Left 2 !.func binary(run,index) floor(run/(2**index))-2*floor(run/(2**(index+1)))
TEXT -216 768 Left 2 !.param tola=.01
TEXT -216 912 Left 2 !.param numruns=1024
TEXT -216 936 Left 2 !.step param run 0 1024 1
